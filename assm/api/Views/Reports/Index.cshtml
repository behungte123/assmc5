<h2>📊 Báo cáo tổng hợp kinh doanh</h2>

<div class="row mb-4">
    <div class="col">
        💰 Doanh thu thực:
        <strong class="text-success">
            @ViewBag.TotalRevenue.ToString("N0") ₫
        </strong>
    </div>

    <div class="col">
        ⏳ Doanh thu dự kiến:
        <strong class="text-warning">
            @ViewBag.ExpectedRevenue.ToString("N0") ₫
        </strong>
    </div>

    <div class="col">
        🧾 Tổng đơn:
        <strong>
            @ViewBag.TotalOrders
            (<span class="text-success">@ViewBag.CompletedOrders hoàn tất</span>)
        </strong>
    </div>

    <div class="col">
        📦 Tồn kho:
        <strong>@ViewBag.TotalInventory</strong>
    </div>
</div>

<canvas id="revenueChart"></canvas>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const revenueData = @Html.Raw(Json.Serialize(ViewBag.RevenueByDay));

    new Chart(document.getElementById('revenueChart'), {
        type: 'line',
        data: {
            labels: revenueData.map(x => x.date),
            datasets: [{
                label: 'Doanh thu thực',
                data: revenueData.map(x => x.total),
                tension: 0.3
            }]
        }
    });
</script>